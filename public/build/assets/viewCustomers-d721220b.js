import{_,r as u,o as r,c as n,a as t,t as l,h as c,d}from"./app-8617d8f9.js";const f={name:"View",inject:["authStore"],data(){return{customerDetails:[],customersUpdate:!1,customersDelete:!1,customersView:!1,loading:!0}},async mounted(){if(this.authStore.user===null)this.loading=!1;else{const i=["customersView","customersDelete","customersUpdate"],o=await checkPermissions(i);i.forEach(e=>{o[e]&&(this[e]=!0,e==="customersView"&&(this.loading=!1))});try{await this.$axios.get(`/api/customer/${this.$route.params.id}`).then(e=>{this.customerDetails=e.data.data})}catch(e){handleError(e,this.$toast)}}},methods:{async deleteCustomers(i){if(await this.showConfirmationDialog("Are you sure you want to delete this Customer?"))try{await this.$axios.delete(`/api/customer/${i}`).then(e=>{e.status===200&&(this.$toast.success(e.data.message,{position:"top-right",duration:3e3}),this.$router.push("/customers"))})}catch(e){handleError(e,this.$toast)}}}},b={key:0},k={key:0},D={class:"table table-bordered"},y=t("th",{class:"col-4 boldText"}," ID ",-1),w={class:"col-4"},C=t("td",{class:"boldText"}," Name ",-1),g=t("td",{class:"boldText"}," Email ",-1),v=t("td",{class:"boldText"}," Phone no. ",-1),V=t("td",{class:"boldText"}," Role ",-1),$={key:1},x={key:1};function E(i,o,e,T,s,m){const h=u("Unauthorized"),p=u("Loader");return s.loading===!1?(r(),n("div",b,[s.customersView===!0?(r(),n("div",k,[t("h1",null," User Detail "+l(i.$route.params.id),1),t("table",D,[t("thead",null,[t("tr",null,[y,t("th",w,l(s.customerDetails.id),1)])]),t("tbody",null,[t("tr",null,[C,t("td",null,l(s.customerDetails.name),1)]),t("tr",null,[g,t("td",null,l(s.customerDetails.email),1)]),t("tr",null,[v,t("td",null,l(s.customerDetails.phone_no),1)]),t("tr",null,[V,t("td",null,l(s.customerDetails.role.name),1)])])]),t("button",{onClick:o[0]||(o[0]=a=>i.$router.push({name:"customers"})),class:"btn black-bg"},l("Back")),s.customersUpdate?(r(),n("button",{key:0,onClick:o[1]||(o[1]=a=>i.$router.push({path:`/updatecustomers/${s.customerDetails.id}`})),class:"btn linked-icon"},l("Edit"))):c("",!0),s.customersDelete?(r(),n("button",{key:1,class:"btn linked-icon",onClick:o[2]||(o[2]=a=>m.deleteCustomers(s.customerDetails.id))}," Delete ")):c("",!0)])):(r(),n("div",$,[d(h)]))])):(r(),n("div",x,[d(p)]))}const B=_(f,[["render",E]]);export{B as default};
