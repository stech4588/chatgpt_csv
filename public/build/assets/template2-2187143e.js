import{_ as h,r as d,o as r,c,d as m,a as e,g as u,h as _,b as F,v as b,w as v,t as i}from"./app-8617d8f9.js";const w={name:"template2",data(){return{formData:new this.$form({prompt:"",csvFile1:null,csvFile2:null}),loading:!1,downloadProcessedFileAccess:!1}},methods:{async submitForm(){this.loading=!0;try{const{data:s}=await this.formData.post("/api/send-to-openaidoc2");this.$toast.success("Data processed successfully.",{position:"top-right",duration:3e3}),this.downloadProcessedFileAccess=!0}catch(s){handleError(s,this.$toast)}this.loading=!1,this.formData.prompt=""},handleFileChange1(s){this.formData.csvFile1=s.target.files[0]},handleFileChange2(s){this.formData.csvFile2=s.target.files[0]},async downloadProcessedFile(){try{const s=await this.$axios.get("/api/downloadProcessedFile",{responseType:"blob"}),o=new Blob([s.data]),l=document.createElement("a");l.href=window.URL.createObjectURL(o),l.download="processed_file.csv",l.click()}catch(s){console.error("Error downloading processed file:",s)}}}},g={key:0},y={key:1},C={class:"text-end my-3"},x={class:"mb-3"},D=e("label",{for:"prompt",class:"form-label"},i("Prompt"),-1),k={class:"mb-3"},P=e("label",{for:"csvFile1",class:"form-label"},i("CSV File1"),-1),V={class:"mb-3"},N=e("label",{for:"csvFile2",class:"form-label"},i("CSV File2"),-1),B=e("div",{class:"mb-3"},[e("button",{type:"submit",class:"btn btn-primary"},i("RUN"))],-1);function E(s,o,l,L,n,a){const p=d("Loader"),f=d("font-awesome-icon");return n.loading===!0?(r(),c("div",g,[m(p)])):(r(),c("div",y,[e("div",C,[n.downloadProcessedFileAccess?(r(),c("div",{key:0,onClick:o[0]||(o[0]=(...t)=>a.downloadProcessedFile&&a.downloadProcessedFile(...t)),class:"btn linked-icon"},[m(f,{icon:"download","fixed-width":""}),u(" File ")])):_("",!0)]),e("form",{onSubmit:o[4]||(o[4]=v((...t)=>a.submitForm&&a.submitForm(...t),["prevent"])),enctype:"multipart/form-data"},[e("div",x,[D,F(e("input",{"onUpdate:modelValue":o[1]||(o[1]=t=>n.formData.prompt=t),type:"text",class:"form-control",id:"prompt",required:"",autofocus:""},null,512),[[b,n.formData.prompt]])]),e("div",k,[P,e("input",{type:"file",class:"form-control",id:"csvFile1",onChange:o[2]||(o[2]=(...t)=>a.handleFileChange1&&a.handleFileChange1(...t)),accept:".csv"},null,32)]),e("div",V,[N,e("input",{type:"file",class:"form-control",id:"csvFile2",onChange:o[3]||(o[3]=(...t)=>a.handleFileChange2&&a.handleFileChange2(...t)),accept:".csv"},null,32)]),B],32)]))}const U=h(w,[["render",E]]);export{U as default};
