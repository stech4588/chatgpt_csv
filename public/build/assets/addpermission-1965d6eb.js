import{_ as v,r as a,o as l,c as m,a as s,w as b,b as f,v as u,n as p,d as r,t as n}from"./app-8617d8f9.js";const g={inject:["authStore"],name:"Add",data(){return{form:new this.$form({name:"",description:"",category:""}),roleId:0,permissionsAdd:!1,loading:!0}},async mounted(){if(this.$useHead({title:"Permission",description:"Add Permission page"}),this.authStore.user===null)this.loading=!1;else try{const t=["permissionsAdd"],e=await checkPermissions(t);t.forEach(d=>{e[d]&&(this[d]=!0,d==="permissionsAdd"&&(this.loading=!1))})}catch(t){handleError(t,this.$toast)}},methods:{async addInPermission(){try{const{data:t}=await this.form.post("/api/permission");t.message==="Permission created successfully."&&(this.$toast.success("Permission created successfully.",{position:"top-right",duration:3e3}),this.$router.push("/permission"))}catch(t){handleError(t,this.$toast)}}}},w={key:0},k={key:0},x=s("h1",null," Add Permission ",-1),P={class:"row"},A={class:"col-lg-10 m-auto"},C={class:"mb-3 row"},U=s("label",{class:"col-md-3 col-form-label text-md-end"},n("Name"),-1),V={class:"col-md-7"},E={class:"mb-3 row"},I=s("label",{class:"col-md-3 col-form-label text-md-end"},n("Description"),-1),S={class:"col-md-7"},q={class:"mb-3 row"},z=s("label",{class:"col-md-3 col-form-label text-md-end"},n("Category"),-1),B={class:"col-md-7"},D={class:"mb-3 row"},N={class:"col-md-7 offset-md-3 d-flex"},K=["disabled"],L={key:1},M={key:1};function T(t,e,d,j,o,h){const c=a("has-error"),_=a("Unauthorized"),y=a("Loader");return o.loading===!1?(l(),m("div",w,[o.permissionsAdd===!0?(l(),m("div",k,[x,s("div",P,[s("div",A,[s("form",{onSubmit:e[4]||(e[4]=b((...i)=>h.addInPermission&&h.addInPermission(...i),["prevent"])),onKeydown:e[5]||(e[5]=i=>o.form.onKeydown(i))},[s("div",C,[U,s("div",V,[f(s("input",{"onUpdate:modelValue":e[0]||(e[0]=i=>o.form.name=i),class:p([{"is-invalid":o.form.errors.has("name")},"form-control"]),type:"text",name:"name",required:""},null,2),[[u,o.form.name]]),r(c,{form:o.form,field:"name"},null,8,["form"])])]),s("div",E,[I,s("div",S,[f(s("input",{"onUpdate:modelValue":e[1]||(e[1]=i=>o.form.description=i),class:p([{"is-invalid":o.form.errors.has("description")},"form-control"]),type:"text",name:"description",required:""},null,2),[[u,o.form.description]]),r(c,{form:o.form,field:"description"},null,8,["form"])])]),s("div",q,[z,s("div",B,[f(s("input",{"onUpdate:modelValue":e[2]||(e[2]=i=>o.form.category=i),class:p([{"is-invalid":o.form.errors.has("category")},"form-control"]),type:"text",name:"category",required:""},null,2),[[u,o.form.category]]),r(c,{form:o.form,field:"category"},null,8,["form"])])]),s("div",D,[s("div",N,[s("button",{class:"btn grey-bg",disabled:o.form.busy},n("Add"),8,K),s("button",{onClick:e[3]||(e[3]=i=>t.$router.push({name:"permission"})),class:"btn black-bg ms-1"},n("Cancel"))])])],32)])])])):(l(),m("div",L,[r(_)]))])):(l(),m("div",M,[r(y)]))}const R=v(g,[["render",T]]);export{R as default};
